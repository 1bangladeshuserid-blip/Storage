<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4K¬∑eek ‚Äî Upload & Play (Local Gallery)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(145deg, #0f1217 0%, #1a1f2a 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Inter', system-ui, sans-serif;
            padding: 16px;
        }

        .player-container {
            max-width: 1600px;
            width: 100%;
            background: #0b0e12;
            border-radius: 32px;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.8), 0 0 0 2px #ffd96633 inset;
            overflow: hidden;
        }

        /* Upload section */
        .upload-section {
            padding: 20px 24px;
            background: #1e232c;
            border-bottom: 1px solid #ffd96633;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 20px;
        }

        .upload-label {
            background: #2d333e;
            color: #ffd966;
            padding: 14px 28px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            border: 2px solid #ffd96666;
            transition: 0.2s;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.2);
        }

        .upload-label:hover {
            background: #3a4150;
            border-color: #ffd966;
            transform: scale(1.02);
            box-shadow: 0 8px 25px #ffd96633;
        }

        .upload-label:active {
            transform: scale(0.98);
        }

        .file-info {
            color: #aaa;
            font-size: 1rem;
            background: #252b34;
            padding: 8px 18px;
            border-radius: 40px;
            border: 1px solid #4a4f5a;
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 200px;
        }

        .file-info span {
            color: #ffd966;
            font-weight: 500;
            word-break: break-all;
        }

        .badge-4k {
            background: #b8860b;
            color: #000;
            font-weight: 800;
            padding: 8px 20px;
            border-radius: 40px;
            font-size: 1.2rem;
            border: 2px solid #ffcd7e;
            text-shadow: 1px 1px 0 #ffdb9f;
            white-space: nowrap;
        }

        .badge-4k::before {
            content: "üé¨ ";
            font-size: 1.4rem;
        }

        /* Video wrapper */
        .video-wrapper {
            position: relative;
            width: 100%;
            background: #000;
            line-height: 0;
        }

        .video-wrapper::before {
            content: "";
            display: block;
            padding-top: 56.25%; /* 16:9 aspect ratio */
        }

        video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #030405;
            cursor: pointer;
            outline: none;
            object-fit: contain; /* ensures full video visible */
        }

        /* Controls */
        .controls {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 24px;
            background: rgba(18, 22, 28, 0.95);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255, 215, 100, 0.3);
            color: #eee;
            flex-wrap: wrap;
        }

        .controls button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 204, 0, 0.3);
            color: #f0e9d8;
            font-size: 1.7rem;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.18s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
        }

        .controls button:hover {
            background: rgba(255, 215, 0, 0.2);
            color: #ffdb7e;
            border-color: #ffcd4d;
            transform: scale(1.07);
        }

        .time-display {
            font-size: 1rem;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.6);
            padding: 6px 16px;
            border-radius: 48px;
            border: 1px solid #4a4f5a;
            font-variant-numeric: tabular-nums;
            color: #f5e7c8;
            white-space: nowrap;
        }

        .progress-area {
            flex: 1 1 240px;
            min-width: 160px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .progress-bar {
            flex: 1;
            height: 10px;
            background: rgba(60, 60, 70, 0.7);
            border-radius: 30px;
            position: relative;
            cursor: pointer;
            border: 1px solid #5a5a6a;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ffb347, #ffd966);
            border-radius: 30px;
            box-shadow: 0 0 15px #ffb347;
            transition: width 0.08s linear;
        }

        .time-tooltip {
            background: #2d3440;
            padding: 4px 12px;
            border-radius: 40px;
            font-size: 0.9rem;
            border: 1px solid #ffd96699;
            color: #ffdcb0;
            font-weight: 500;
        }

        .volume-wrap {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(30, 30, 40, 0.8);
            padding: 4px 12px 4px 8px;
            border-radius: 48px;
            border: 1px solid #5a5a70;
        }

        .volume-wrap button {
            width: 36px;
            height: 36px;
            font-size: 1.5rem;
        }

        input[type=range].volume-slider {
            width: 80px;
            height: 5px;
            -webkit-appearance: none;
            background: #3a3a48;
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid #6b6b80;
        }

        input[type=range].volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            border-radius: 20px;
            background: #ffd966;
            box-shadow: 0 0 8px #ffb347;
            border: 1px solid white;
            cursor: pointer;
        }

        .fullscreen-btn {
            font-size: 1.6rem;
        }

        /* Resolution indicator */
        .res-badge {
            background: #2a3140;
            color: #ffd966;
            padding: 6px 14px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 600;
            border: 1px solid #ffd966;
            white-space: nowrap;
        }

        @media (max-width: 700px) {
            .upload-section {
                flex-direction: column;
                align-items: stretch;
            }
            .file-info {
                width: 100%;
            }
            .volume-wrap {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="player-container">
        <!-- Upload section -->
        <div class="upload-section">
            <label for="videoUpload" class="upload-label">
                <span>üìÅ</span> Gallery se video chune
            </label>
            <input type="file" id="videoUpload" accept="video/*" style="display: none;">
            
            <div class="file-info" id="fileInfo">
                <span>üìå</span> <span id="fileName">Koi video select karo</span>
            </div>
            
            <div class="badge-4k">4K Ready</div>
        </div>

        <!-- Video player -->
        <div class="video-wrapper">
            <video id="mainVideo" poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='3840' height='2160' viewBox='0 0 3840 2160'%3E%3Crect width='3840' height='2160' fill='%23121826'/%3E%3Ctext x='50%25' y='50%25' font-size='80' font-family='Arial' fill='%23ffd966' text-anchor='middle' dy='.3em'%3E4K VIDEO PLAYER%3C/text%3E%3Ctext x='50%25' y='60%25' font-size='40' fill='%23ffffff66' text-anchor='middle'%3EUPLOAD KAREIN APNI VIDEO%3C/text%3E%3C/svg%3E">
                <source src="" type="video/mp4">
                Aapka browser video support nahi karta
            </video>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button id="playPauseBtn" title="Play/Pause">‚èµ</button>
            
            <div class="time-display" id="timeDisplay">0:00 / 0:00</div>

            <div class="progress-area">
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="time-tooltip" id="timeTooltip">‚Äì:‚Äì</div>
            </div>

            <div class="volume-wrap">
                <button id="muteToggle">üîä</button>
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.02" value="1">
            </div>

            <button id="fullscreenBtn" class="fullscreen-btn" title="Fullscreen">‚§¢</button>
            
            <div class="res-badge" id="resolutionBadge">4K UHD</div>
        </div>
    </div>

    <script>
        (function() {
            const video = document.getElementById('mainVideo');
            const fileInput = document.getElementById('videoUpload');
            const fileName = document.getElementById('fileName');
            const playBtn = document.getElementById('playPauseBtn');
            const timeDisplay = document.getElementById('timeDisplay');
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const timeTooltip = document.getElementById('timeTooltip');
            const muteToggle = document.getElementById('muteToggle');
            const volumeSlider = document.getElementById('volumeSlider');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const resolutionBadge = document.getElementById('resolutionBadge');
            
            let videoDuration = 0;

            // Format time function
            function formatTime(seconds) {
                if (isNaN(seconds) || !isFinite(seconds)) return '0:00';
                const hrs = Math.floor(seconds / 3600);
                const mins = Math.floor((seconds % 3600) / 60);
                const secs = Math.floor(seconds % 60);
                if (hrs > 0) {
                    return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                } else {
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                }
            }

            // Update time and progress
            function updateTime() {
                if (!video.duration) return;
                const current = video.currentTime || 0;
                const duration = video.duration || 0;
                timeDisplay.textContent = `${formatTime(current)} / ${formatTime(duration)}`;
                const percent = duration ? (current / duration) * 100 : 0;
                progressFill.style.width = percent + '%';
            }

            video.addEventListener('timeupdate', updateTime);

            // Upload video functionality
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Show file name
                    fileName.textContent = file.name.length > 30 ? file.name.substring(0, 27) + '...' : file.name;
                    
                    // Create video URL
                    const fileURL = URL.createObjectURL(file);
                    video.src = fileURL;
                    video.load();
                    
                    // Try to detect resolution when metadata loaded
                    video.onloadedmetadata = function() {
                        videoDuration = video.duration;
                        timeDisplay.textContent = `0:00 / ${formatTime(videoDuration)}`;
                        
                        // Check video resolution
                        const width = video.videoWidth;
                        const height = video.videoHeight;
                        
                        if (width && height) {
                            if (width >= 3840 || height >= 2160) {
                                resolutionBadge.textContent = `4K UHD (${width}x${height})`;
                                resolutionBadge.style.background = '#b8860b';
                                resolutionBadge.style.color = '#000';
                            } else if (width >= 1920) {
                                resolutionBadge.textContent = `Full HD (${width}x${height})`;
                                resolutionBadge.style.background = '#2a6d3b';
                                resolutionBadge.style.color = '#fff';
                            } else {
                                resolutionBadge.textContent = `${width}x${height}`;
                                resolutionBadge.style.background = '#2a3140';
                                resolutionBadge.style.color = '#ffd966';
                            }
                        } else {
                            resolutionBadge.textContent = 'Resolution unknown';
                        }
                        
                        // Auto-play after upload (optional)
                        video.play().catch(() => {});
                    };
                }
            });

            // Click on upload label
            document.querySelector('.upload-label').addEventListener('click', function() {
                fileInput.click();
            });

            // Play/Pause
            function togglePlay() {
                if (video.paused) {
                    video.play().catch(e => console.log('Play error:', e));
                } else {
                    video.pause();
                }
            }

            playBtn.addEventListener('click', togglePlay);
            video.addEventListener('click', togglePlay);

            video.addEventListener('play', () => { playBtn.textContent = '‚è∏'; });
            video.addEventListener('pause', () => { playBtn.textContent = '‚èµ'; });
            video.addEventListener('ended', () => { playBtn.textContent = '‚èµ'; });

            // Progress bar seek
            progressBar.addEventListener('click', (e) => {
                const rect = progressBar.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                if (width && video.duration) {
                    const seekTime = (clickX / width) * video.duration;
                    video.currentTime = seekTime;
                }
            });

            // Tooltip on hover
            progressBar.addEventListener('mousemove', (e) => {
                const rect = progressBar.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const width = rect.width;
                if (width && video.duration) {
                    const hoverTime = (x / width) * video.duration;
                    timeTooltip.textContent = formatTime(hoverTime);
                }
            });

            progressBar.addEventListener('mouseleave', () => {
                timeTooltip.textContent = '‚Äì:‚Äì';
            });

            // Volume controls
            function updateVolumeIcon() {
                if (video.volume === 0 || video.muted) {
                    muteToggle.textContent = 'üîá';
                } else if (video.volume < 0.5) {
                    muteToggle.textContent = 'üîà';
                } else {
                    muteToggle.textContent = 'üîä';
                }
            }

            volumeSlider.addEventListener('input', (e) => {
                const val = parseFloat(e.target.value);
                video.volume = val;
                video.muted = false;
                updateVolumeIcon();
            });

            muteToggle.addEventListener('click', () => {
                video.muted = !video.muted;
                volumeSlider.value = video.muted ? 0 : video.volume;
                updateVolumeIcon();
            });

            video.addEventListener('volumechange', updateVolumeIcon);
            updateVolumeIcon();

            // Fullscreen
            fullscreenBtn.addEventListener('click', () => {
                const container = document.querySelector('.player-container');
                if (!document.fullscreenElement) {
                    if (container.requestFullscreen) {
                        container.requestFullscreen();
                    } else if (container.webkitRequestFullscreen) {
                        container.webkitRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    }
                }
            });

            // Keyboard space
            window.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && !['INPUT', 'TEXTAREA', 'BUTTON'].includes(e.target.tagName)) {
                    e.preventDefault();
                    togglePlay();
                }
            });

            // Clean up object URL when done
            window.addEventListener('beforeunload', () => {
                if (video.src && video.src.startsWith('blob:')) {
                    URL.revokeObjectURL(video.src);
                }
            });

            console.log('üé• 4K Upload Player ready ‚Äî apni video select karo!');
        })();
    </script>
</body>
</html>
